<!-- FontSize="20"へ変更 -->
<local:PanelBase
             x:Class="VecApp.ApiScanPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:VecApp"
             xmlns:res="clr-namespace:VecApp.Properties"
             mc:Ignorable="d" 
             xmlns:oxy="http://oxyplot.org/wpf"
             d:DesignHeight="690" d:DesignWidth="900" Background="#2C3E50">
    <!-- d:DesignHeight="450"→"690" d:DesignWidth="800"→"900"へ変更(2025.11.24yori) -->
    <local:PanelBase.Resources>
        <!-- 感度 -->
        <!-- SelectedIndex="{Binding OptionIndex1}"追加(2025.8.21yori)-->
        <DataTemplate x:Key="SensitivityTemplate">
            <StackPanel Orientation="Horizontal" Margin="5">
                <ComboBox ItemsSource="{Binding Options}"
                          SelectedItem="{Binding SelectedOption}" SelectedIndex="{Binding OptionIndex1}" Width="300" Margin="200,0,0,0" SelectionChanged="ComboBox_SelectionChanged_Sens"/>
            </StackPanel>
        </DataTemplate>

        <!-- 輝度マスク -->
        <DataTemplate x:Key="LuminosityMaskTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Name}" Foreground="White"/>
                <!-- 輝度マスク作成中のため、ComboBox無効化(2025.11.7yori) -->
                <ComboBox ItemsSource="{Binding Options2}"
                          SelectedItem="{Binding SelectedOption2}" Width="150" Margin="300,0,0,0"
                          IsEnabled="False" Opacity="0.25"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="LuminosityMaskTemplate2">
            <StackPanel Orientation="Horizontal">
                <StackPanel Orientation="Vertical" Margin="0,5">
                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="{x:Static res:Resources.String147}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="160" TextAlignment="Left" FontSize="12" Margin="-20,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String148}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="160" TextAlignment="Left" Margin="5,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBox Text="{Binding InputText28}" Width="80" Margin="60,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText29}" Width="80" Margin="85,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="{x:Static res:Resources.String149}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="160" TextAlignment="Left" FontSize="12" Margin="-20,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String150}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="160" TextAlignment="Left" Margin="5,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBox Text="{Binding InputText30}" Width="80" Margin="60,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText31}" Width="80" Margin="55,0,0,0" FontSize="12"/>
                        <TextBlock
                            Text="mm"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="{x:Static res:Resources.String151}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="160" TextAlignment="Left" Margin="145,0,0,0" FontSize="10"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue9}"
                            Margin="200,0,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText9}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,0,0,0" FontSize="12"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal">
                        <Slider
                            Width="400"
                            Minimum="0" Maximum="65535"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue10, Mode=TwoWay}"
                            Margin="-20,10,0,5"/>
                    </StackPanel>
                    <oxy:PlotView x:Name="PlotView1" Model="{Binding PlotModel1}"  Height="30" Width="400" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-20,0,0,0"/>
                    <Slider
                            Width="400"
                            Minimum="0" Maximum="65535"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue11, Mode=TwoWay}"
                            Margin="-20,5,0,10"/>
                    <oxy:PlotView x:Name="PlotView2" Model="{Binding PlotModel2}"  Height="90" Width="400" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-20,0,0,0"/>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <TextBlock
                            Text="{x:Static res:Resources.String152}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="0,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText36}" Width="50" Margin="10,0,0,0" FontSize="12"/>
                        <TextBlock
                            Text="{x:Static res:Resources.String153}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="140,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText37}" Width="50" Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <TextBlock
                            Text="{x:Static res:Resources.String154}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="0,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText38}" Width="50" Margin="10,0,0,0" FontSize="12"/>
                        <TextBlock
                            Text="{x:Static res:Resources.String155}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText39}" Width="50" Margin="10,0,0,0" FontSize="12"/>
                        <TextBlock
                            Text="{x:Static res:Resources.String156}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,0,0,0" FontSize="12"/>
                        <TextBox Text="{Binding InputText40}" Width="50" Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>
                </StackPanel>
                <StackPanel Orientation="Vertical" Margin="0,5">
                    <Button Content="{x:Static res:Resources.String157}" Margin="0,10,0,0" 
                            Style="{StaticResource PanelDoneButtonStyle}" Width="120" Height="40"/>
                    <Button Content="{x:Static res:Resources.String158}" Margin="0,10,0,0" 
                            Style="{StaticResource PanelCancelButton2Style}" Width="120" Height="40"/>
                    <TextBlock Text="{Binding InputText32, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="80" Margin="-30,53,0,0" FontSize="12" Foreground="White" />
                    <TextBlock Text="{Binding InputText33, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="80" Margin="-30,40,0,0" FontSize="12" Foreground="White" />
                    <TextBlock Text="{x:Static res:Resources.String159}" 
                            Background="Gray" Foreground="White" 
                            Padding="2" FontWeight="Bold" 
                            Width="80" TextAlignment="Left" Margin="-25,10,0,0" FontSize="12"/>
                    <TextBlock
                            Text="{x:Static res:Resources.String160}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,5,0,0" FontSize="12"/>
                    <TextBox Text="{Binding InputText34, UpdateSourceTrigger=PropertyChanged}" Width="80" Margin="-30,5,0,0" FontSize="12"/>
                    <TextBlock
                            Text="{x:Static res:Resources.String161}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,5,0,0" FontSize="12"/>
                    <TextBox Text="{Binding InputText35, UpdateSourceTrigger=PropertyChanged}" Width="80" Margin="-30,5,0,0" FontSize="12"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- 距離マスク -->
        <DataTemplate x:Key="DistanceMaskTemplate1">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Name}" Foreground="White"/>
                <!-- スライダー無効化(2025.11.7yori) -->
                <Slider
                    Width="80"
                    Minimum="0" Maximum="1"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    ValueChanged="SlideSwitch_ValueChanged"
                    Value="{Binding SlideSwitchValue}"
                    Margin="300,10,0,0"
                    IsEnabled="False" Opacity="0.25"/>
                <!-- 距離マスク作成のため、TextBlock半透明化(2025.11.7yori) -->
                <TextBlock
                    Text="{Binding SlideText}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="5,5,0,0"
                    Opacity="0.25"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="DistanceMaskTemplate2">
            <StackPanel Orientation="Vertical" Margin="0,5">
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="{Binding XName}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="150" TextAlignment="Center"/>
                    <TextBlock Text="{Binding YName}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="150" TextAlignment="Center" Margin="5,0,0,0"/>
                    <TextBlock Text="{Binding ZName}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="150" TextAlignment="Center" Margin="5,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <!-- CheckBox有効無効バインド追加(2025.8.26yori) -->
                        <TextBlock Text="{x:Static res:Resources.String162}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <CheckBox IsChecked="{Binding IsChecked1}" VerticalAlignment="Center" Margin="5,0" IsEnabled="{Binding IsCheckBoxEnabled}"/>
                        <TextBox Text="{Binding InputText1}" Width="80" Margin="5,0"/>
                        <TextBlock Text="{x:Static res:Resources.String163}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <!-- Yの距離マスクは使用しないため、無効(IsEnabled="False")にする。(2025.8.22yori) -->
                        <CheckBox IsChecked="{Binding IsChecked3}" VerticalAlignment="Center" Margin="5,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText3}" Width="80" Margin="5,0" IsEnabled="False"/>
                        <TextBlock Text="{x:Static res:Resources.String164}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <CheckBox IsChecked="{Binding IsChecked5}" VerticalAlignment="Center" Margin="5,0" IsEnabled="{Binding IsCheckBoxEnabled}"/>
                        <TextBox Text="{Binding InputText5}" Width="80" Margin="5,0"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <TextBlock Text="{x:Static res:Resources.String165}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <CheckBox IsChecked="{Binding IsChecked2}" VerticalAlignment="Center" Margin="5,0" IsEnabled="{Binding IsCheckBoxEnabled}"/>
                        <TextBox Text="{Binding InputText2}" Width="80" Margin="5,0"/>
                        <TextBlock Text="{x:Static res:Resources.String166}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <!--Yの距離マスクは使用しないため、無効(IsEnabled="False")にする。(2025.8.22yori)-->
                        <CheckBox IsChecked="{Binding IsChecked4}" VerticalAlignment="Center" Margin="5,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText4}" Width="80" Margin="5,0" IsEnabled="False"/>
                        <TextBlock Text="{x:Static res:Resources.String167}" Width="40" Foreground="White" VerticalAlignment="Center" TextAlignment="Right"/>
                        <CheckBox IsChecked="{Binding IsChecked6}" VerticalAlignment="Center" Margin="5,0" IsEnabled="{Binding IsCheckBoxEnabled}"/>
                        <TextBox Text="{Binding InputText6}" Width="80" Margin="5,0"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- 点群補正/フィルタ -->
        <DataTemplate x:Key="PointCloudCorrectionTemplate">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="{x:Static res:Resources.String168}" 
                        Background="Gray" Foreground="White" 
                        Padding="2" FontWeight="Bold"  Margin="-70,10,0,0"
                        Width="500" TextAlignment="Left" VerticalAlignment="Center"/>

                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String169}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue1}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText1}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String170}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue2}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText2}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String171}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue3}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText3}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String176}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBox Text="{Binding InputText7}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>
                        
                        <TextBlock
                            Text="{x:Static res:Resources.String172}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,10,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String173}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue4}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText4}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String174}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBox Text="{Binding InputText8}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="mm"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,10,0,0" FontSize="12"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String175}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue5}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText5}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String176}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBox Text="{Binding InputText9}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String172}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,10,0,0" FontSize="12"/>
                    </StackPanel>
                </StackPanel>

                <TextBlock Text="{x:Static res:Resources.String177}" 
                        Background="Gray" Foreground="White" 
                        Padding="2" FontWeight="Bold"  Margin="-70,10,0,0"
                        Width="500" TextAlignment="Left" VerticalAlignment="Center"/>
                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String171}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>
                        <Slider
                            Width="80"
                            Minimum="0" Maximum="1"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SlideSwitch_ValueChanged"
                            Value="{Binding SlideSwitchValue6}"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{Binding SlideText6}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="5,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String176}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="20,10,0,0" FontSize="12"/>

                        <TextBox Text="{Binding InputText10}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="{x:Static res:Resources.String172}"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,10,0,0" FontSize="12"/>
                    </StackPanel>
                </StackPanel>

                <TextBlock Text="{x:Static res:Resources.String178}" 
                        Background="Gray" Foreground="White" 
                        Padding="2" FontWeight="Bold"  Margin="-70,10,0,0"
                        Width="500" TextAlignment="Left" VerticalAlignment="Center"/>
                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{x:Static res:Resources.String179}" Width="240" Foreground="White" VerticalAlignment="Center" TextAlignment="Left" Background="Gray" Padding="2" Margin="-20,10,0,0" FontSize="10"/>

                        <TextBox Text="{Binding InputText11}" Width="80" Height="20" Margin="177,10,0,0" FontSize="12"/>

                        <TextBlock
                            Text="mm"
                            Foreground="White"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Margin="10,10,0,0" FontSize="12"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- 輝度スライス -->
        <DataTemplate x:Key="LuminanceSliceTemplate">
            <StackPanel Orientation="Vertical" Margin="0,5">
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="{x:Static res:Resources.String145}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="200,0,0,0"/>
                    <TextBlock Text="{x:Static res:Resources.String146}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="10,0,0,0"/>
                    <TextBlock Text="{x:Static res:Resources.String180}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="10,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <RadioButton IsChecked="{Binding IsChecked7}"
                             GroupName="CheckGroup1"
                             VerticalAlignment="Center"
                             Margin="90,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String181}" Foreground="White" VerticalAlignment="Center"/>
                        <!-- TextBoxの値を変更できないよう無効(IsEnabled="False")とする。(2025.8.23yori) -->
                        <TextBox Text="{Binding InputText12}" Width="80" Margin="35,0,0,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText13}" Width="80" Margin="30,0,0,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText14}" Width="80" Margin="30,0,0,0" IsEnabled="False"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <RadioButton IsChecked="{Binding IsChecked8}"
                             GroupName="CheckGroup1"
                             VerticalAlignment="Center"
                             Margin="90,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String182}" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding InputText15}" Width="80" Margin="45,0,0,0"/>
                        <TextBox Text="{Binding InputText16}" Width="80" Margin="30,0,0,0"/>
                        <TextBox Text="{Binding InputText17}" Width="80" Margin="30,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- 感度スライス -->
        <DataTemplate x:Key="SensitivitySliceTemplate">
            <StackPanel Orientation="Vertical" Margin="0,5">
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="{x:Static res:Resources.String145}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="200,0,0,0"/>
                    <TextBlock Text="{x:Static res:Resources.String146}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="10,0,0,0"/>
                    <TextBlock Text="{x:Static res:Resources.String180}" 
                        Background="Gray" Foreground="White" 
                        Padding="5" FontWeight="Bold" 
                        Width="100" TextAlignment="Center" Margin="10,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Vertical" Margin="0,2">
                    <StackPanel Orientation="Horizontal">
                        <!--  GroupName="CheckGroup1"→"CheckGroup2"へ変更(2025.8.26yori)-->
                        <RadioButton IsChecked="{Binding IsChecked9}"
                             GroupName="CheckGroup2"
                             VerticalAlignment="Center"
                             Margin="90,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String181}" Foreground="White" VerticalAlignment="Center"/>
                        <!-- TextBoxの値を変更できないよう無効(IsEnabled="False")とする。(2025.8.23yori) -->
                        <TextBox Text="{Binding InputText18}" Width="80" Margin="35,0,0,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText19}" Width="80" Margin="30,0,0,0" IsEnabled="False"/>
                        <TextBox Text="{Binding InputText20}" Width="80" Margin="30,0,0,0" IsEnabled="False"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <!--  GroupName="CheckGroup1"→"CheckGroup2"へ変更(2025.8.26yori)-->
                        <RadioButton IsChecked="{Binding IsChecked10}"
                             GroupName="CheckGroup2"
                             VerticalAlignment="Center"
                             Margin="90,0,0,0"/>
                        <TextBlock Text="{x:Static res:Resources.String182}" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding InputText21}" Width="80" Margin="45,0,0,0"/>
                        <TextBox Text="{Binding InputText22}" Width="80" Margin="30,0,0,0"/>
                        <TextBox Text="{Binding InputText23}" Width="80" Margin="30,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        
        <!-- ガイドレーザーパワー -->
        <!-- SelectedIndex="{Binding OptionIndex3}"追加(2025.8.21yori)-->
        <DataTemplate x:Key="GuideLaserPowerTemplate">
            <StackPanel Orientation="Horizontal" Margin="5">
                <ComboBox ItemsSource="{Binding Options3}"
                          SelectedItem="{Binding SelectedOption3}" SelectedIndex="{Binding OptionIndex3}" Width="300" Margin="200,0,0,0" SelectionChanged="ComboBox_SelectionChanged_Guide"/>
            </StackPanel>
        </DataTemplate>
        
        <!-- 補間(Xピッチ) -->
        <DataTemplate x:Key="InterpolationTemplate">
            <StackPanel Orientation="Horizontal">
                <Slider
                    Width="80"
                    Minimum="0" Maximum="1"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    ValueChanged="SlideSwitch_ValueChanged"
                    Value="{Binding SlideSwitchValue7}"
                    Margin="355,10,0,0"/>

                <TextBlock
                    Text="{Binding SlideText7}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="5,5,0,0"/>
            </StackPanel>
        </DataTemplate>
        
        <!-- 角度マスク -->
        <DataTemplate x:Key="AngleMaskTemplate">
            <StackPanel Orientation="Horizontal">
                <Slider
                    Width="80"
                    Minimum="0" Maximum="1"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    ValueChanged="SlideSwitch_ValueChanged"
                    Value="{Binding SlideSwitchValue8}"
                    Margin="245,10,0,0"/>

                <TextBlock
                    Text="{Binding SlideText8}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="5,5,0,0"/>

                <TextBlock
                    Text="{x:Static res:Resources.String176}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="20,10,0,0" FontSize="12"/>

                <TextBox Text="{Binding InputText25}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>

                <TextBlock
                    Text="{x:Static res:Resources.String172}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="10,10,0,0" FontSize="12"/>
            </StackPanel>
        </DataTemplate>

        <!-- 2ピークマスク -->
        <DataTemplate x:Key="TwoPeakMaskTemplate">
            <StackPanel Orientation="Horizontal" Margin="5">
                <!-- SelectedIndex="{Binding OptionIndex4}"追加(2025.8.25) -->
                <ComboBox ItemsSource="{Binding Options4}"
                          SelectedItem="{Binding SelectedOption4}" SelectedIndex="{Binding OptionIndex4}" Width="200" Height="30" Margin="200,0,20,0" VerticalAlignment="Top" SelectionChanged="ComboBox_SelectionChanged_TwoPeak"/>
                <!-- 仮の画像スペース -->
                <Image Source="{Binding ImageSource}"
                    Width="80" Height="120"
                    Stretch="Uniform"
                    Canvas.Left="0"
                    Canvas.Top="0"
                    Canvas.ZIndex="5"/>
            </StackPanel>
        </DataTemplate>

        <!-- エッジマスク -->
        <DataTemplate x:Key="EdgeMaskTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock
                    Text="{x:Static res:Resources.String183}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="322,10,0,0" FontSize="12"/>

                <TextBox Text="{Binding InputText26}" Width="80" Height="20" Margin="10,10,0,0" FontSize="12"/>

                <TextBlock
                    Text="{x:Static res:Resources.String184}"
                    Foreground="White"
                    FontWeight="Bold"
                    VerticalAlignment="Center"
                    Margin="10,10,0,0" FontSize="12"/>
            </StackPanel>
        </DataTemplate>

        <!-- メモ -->
        <DataTemplate x:Key="MemoTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding InputText27}" Width="500" Height="100" Margin="0,0,0,0" FontSize="12" AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="DefaultTemplate">
            <TextBlock Text="{Binding Name}" Foreground="White"/>
        </DataTemplate>

        <local:TreeItemTemplateSelector x:Key="TreeItemTemplateSelector"
            SensitivityTemplate="{StaticResource SensitivityTemplate}"
            LuminosityMaskTemplate="{StaticResource LuminosityMaskTemplate}"
            LuminosityMaskTemplate2="{StaticResource LuminosityMaskTemplate2}"
            DistanceMaskTemplate1="{StaticResource DistanceMaskTemplate1}"
            DistanceMaskTemplate2="{StaticResource DistanceMaskTemplate2}"
            PointCloudCorrectionTemplate="{StaticResource PointCloudCorrectionTemplate}"
            LuminanceSliceTemplate="{StaticResource LuminanceSliceTemplate}"
            SensitivitySliceTemplate="{StaticResource SensitivitySliceTemplate}"
            GuideLaserPowerTemplate="{StaticResource GuideLaserPowerTemplate}"
            InterpolationTemplate="{StaticResource InterpolationTemplate}"
            AngleMaskTemplate="{StaticResource AngleMaskTemplate}"
            TwoPeakMaskTemplate="{StaticResource TwoPeakMaskTemplate}"
            EdgeMaskTemplate="{StaticResource EdgeMaskTemplate}"
            MemoTemplate="{StaticResource MemoTemplate}"
            DefaultTemplate="{StaticResource DefaultTemplate}" />
    </local:PanelBase.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <!-- 左パネル -->
            <ColumnDefinition Width="*"/>
            <!-- 右パネル -->
        </Grid.ColumnDefinitions>

        <!-- 左メニュー -->
        <StackPanel Grid.Column="0" Width="300" Margin="5" Background="#2C3E50">
            <TextBlock Text="ApiScan"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="White"
                    Margin="0,0,0,5"/>
            <!-- x:Name="ScanMode"追加(2025.8.12yori) -->
            <!-- 多言語対応でComboBoxの文字がはみ出さないよう修正(2026.1.29yori) -->
            <ComboBox x:Name="ScanMode" Margin="10" ItemsSource="{Binding ApiScanItems1}" SelectedIndex="{Binding ApiScanIndex1}" SelectionChanged="ComboBox_SelectionChanged_Mode" Height="30">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <Viewbox Stretch="Uniform" StretchDirection="DownOnly">
                            <TextBlock Text="{Binding}"
                                       FontSize="20"
                                       TextWrapping="NoWrap"/>
                        </Viewbox>
                    </DataTemplate>
                </ComboBox.ItemTemplate>

            </ComboBox>
            <Border Background="Gray" Padding="2"  Margin="0,0,0,5">
                <TextBlock Text="{x:Static res:Resources.String185}" Foreground="White" FontSize="20" TextAlignment="Center"/>
            </Border>
            <StackPanel Orientation="Horizontal" Margin="0,0,0,0" HorizontalAlignment="Center">
                <!-- x:Name="Pitch"追加(2025.8.12yori) -->
                <!-- 未作成のため、無効化(2025.11.6yori) -->
                <ComboBox x:Name="Pitch" Margin="10" ItemsSource="{Binding ApiScanItems2}" SelectedIndex="{Binding ApiScanIndex2}" Width="83" SelectionChanged="ComboBox_SelectionChanged_Pitch" IsEnabled="False" Opacity="0.25" FontSize="20" Height="35"/>
                <!-- TextBox→TextBlockへ、編集不可へ変更(2025.8.12yori) -->
                <TextBlock Text="{Binding ApiScanText}" Foreground="White"  Width="93" Height="35" TextAlignment="Center" HorizontalAlignment="Center" Background="#3A3A3A" FontSize="20" Margin="30,0,0,0"/>
            </StackPanel>
            <!-- 多言語対応でButton文字がはみ出さないよう修正(2026.1.29yori) -->
            <Button Margin="10" Click="Click_SensorParameterBtn" Style="{StaticResource PanelButton2Style}" Height="40" VerticalContentAlignment="Center">
                <Viewbox Stretch="Uniform" StretchDirection="DownOnly">
                    <TextBlock Text="{x:Static res:Resources.String186}"
                               FontSize="20"
                               TextWrapping="NoWrap"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"/>
                </Viewbox>
            </Button>
            <!-- カラーマップ名称(Default1)を非表示(2025.8.10yori) -->
            <TextBlock Text="{x:Static res:Resources.String187}" Foreground="White" FontSize="10" TextAlignment="Center" Visibility="Hidden"/>
            <StackPanel Margin="0,40,0,0" Orientation="Horizontal" HorizontalAlignment="Center">
                <!-- x:Name="SartStopButton"追加(2025.8.12yori) -->
                <!-- IsEnabled="{Binding IsButtonEnabled}"追加(2025.9.3yori) -->
                <!-- Opacity="{Binding ButtonOpacity}"追加(2025.11.20yori) -->
                <!-- Button修正(2025.12.12yori) -->
                <Button x:Name="SartStopButton" Content="{x:Static res:Resources.String114}" Margin="5,0,0,0" Click="Click_StartBtn" 
                        Style="{StaticResource PanelStartButton3Style}" Width="120" Height="60" IsEnabled="{Binding IsButtonEnabled}" Opacity="{Binding ButtonOpacity}" FontSize="20"/>
                <Button Content="{x:Static res:Resources.String189}" Margin="30,0,0,0" Click="Click_ResetBtn"
                        Style="{StaticResource PanelInitialValueButton2Style}" Width="120" Height="60" IsEnabled="{Binding IsButtonEnabled}" Opacity="{Binding ButtonOpacity}" FontSize="20"/>
            </StackPanel>
            <!-- カラーマップ、オートメッシンング、表示ボタンを非表示(2025.8.10yori) -->
                <StackPanel Orientation="Horizontal" Margin="0,20,0,0" HorizontalAlignment="Center">
                <Button Content="{x:Static res:Resources.String190}" Margin="5,0,0,0" Click="Click_ColorMapBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" Visibility="Hidden"/>
                <Button Content="{x:Static res:Resources.String191}" Margin="30,0,0,0" Click="Click_AutoMeshingBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" Visibility="Hidden"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,20,0,0" HorizontalAlignment="Center">
                <!-- 保存機能調査中のため、ボタンを無効にする。(2025.11.6yori) -->
                <!-- Button修正(2025.12.12yori) -->
                <Button Content="{x:Static res:Resources.String118}" Margin="5,0,0,0" Click="Click_SaveBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" IsEnabled="False" Opacity="0.25" FontSize="20"/>
                <!-- パラメータ初期化調査中のため、ボタンを無効にする。(2025.11.6yori) -->
                <Button Content="{x:Static res:Resources.String193}" Margin="30,0,0,0" Click="Click_ParameterInitializationBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" IsEnabled="False" Opacity="0.25" FontSize="20"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,20,0,0" HorizontalAlignment="Center">
                <Button Content="{x:Static res:Resources.String194}" Margin="5,0,0,0" Click="Click_DisplayBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" Visibility="Hidden"/>
                <Button Content="{x:Static res:Resources.String64}" Margin="30,0,0,0" Click="Click_CloseBtn"
                        Style="{StaticResource PanelButton2Style}" Width="120" Height="60" FontSize="20"/>
            </StackPanel>
        </StackPanel>

        <!-- 右表示エリア -->
        <Grid Grid.Column="1" Margin="10" Visibility="{Binding IsSensorParameterVisible}" Background="#2C3E50">
            <!-- x:Name="ApiScanTree"を追加(2025.11.7yori) -->
            <TreeView x:Name="ApiScanTree" ItemsSource="{Binding TreeItems}" Background="#2C3E50" FontSize="18" ItemContainerStyle="{StaticResource TreeViewItem}">
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type local:TreeItem}" ItemsSource="{Binding Children}">
                        <ContentControl Content="{Binding}" ContentTemplateSelector="{StaticResource TreeItemTemplateSelector}" />
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
        </Grid>
    </Grid>
</local:PanelBase>
